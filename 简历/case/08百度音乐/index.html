<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			body,
			ul,
			li {
				margin: 0;
				padding: 0;
				list-style: none;
			}
		</style>
		<link rel="stylesheet" type="text/css" href="baidu.css" />
	</head>

	<body>
		<div class="wrap">
			<div class="baidu">
				<ul id="list">
					<li>
						<div></div>
						<span>泡沫</span>
						<span>邓紫棋</span>
					</li>
					<li>
						<div></div>
						<span>说爱你</span>
						<span>蔡依林</span>
					</li>
					<li>
						<div></div>
						<span>稻香</span>
						<span>周杰伦</span>
					</li>
					<li>
						<div></div>
						<span>我的梦</span>
						<span>张靓颖</span>
					</li>
					<li>
						<div></div>
						<span>怎么说我不爱你</span>
						<span>萧敬腾</span>
					</li>
					<li>
						<div>️</div>
						<span>无处安放</span>
						<span>白若溪</span>
					</li>
				</ul>
				<div class="select">
					<span class="selectAll"><span>全选</span></span>
					<div class="others">
						<span><em></em>收藏</span>
						<span><em></em>添加</span>
						<span><em></em>删除</span>
					</div>
				</div>
			</div>
		</div>
		<script>
			var oList=document.getElementById("list");
			var aLi=oList.getElementsByTagName("li");
			var oAll=document.getElementsByClassName("selectAll")[0];
			var num=0;     //记录勾选了几个
			oAll.onoff=false;   //记录全选按钮关闭
			//给每一个li添加点击事件
			for (var i = 0; i < aLi.length; i++) {
				aLi[i].onoff=false;     //对应没点击
				aLi[i].onclick=function(){
					if(this.onoff==false){     //如果是关闭状态
						num++;    //记录打开一次
						this.getElementsByTagName("div")[0].innerHTML="√";
						this.style.backgroundColor="#e15671";
					}else{                    //如果是打开状态
						num--;    //记录关闭一次
						this.getElementsByTagName("div")[0].innerHTML="";
						this.style.backgroundColor="";
					}
					if(num==aLi.length){      //判断是否全部选中了
						oAll.innerHTML+="√";
						oAll.onoff=true;
					}else{
						oAll.innerHTML="<span>全选</span>"
						oAll.onoff=false;
					}
					this.onoff=!this.onoff;
				}
			}
			//点击全选
			oAll.onclick=function(){
				if(this.onoff==false){
					oAll.innerHTML+="√";
					for (var i = 0; i < aLi.length; i++) {
						aLi[i].getElementsByTagName("div")[0].innerHTML="√";
						aLi[i].style.backgroundColor="#e15671";
						num=aLi.length;
						aLi[i].onoff=true;
					}
				}else{
					oAll.innerHTML="<span>全选</span>";
					for (var i = 0; i < aLi.length; i++) {
						aLi[i].getElementsByTagName("div")[0].innerHTML="";
						aLi[i].style.backgroundColor="";
						num=0;
						aLi[i].onoff=false;
					}
				}
				this.onoff=!this.onoff;
			}
		</script>
	</body>

</html>